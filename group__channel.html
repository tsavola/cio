<!-- This comment will put IE 6, 7 and 8 in quirks mode -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <title>CIO - Channel</title>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <style type="text/css">.contents h1 { text-align: left }</style>
  </head>
  <body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="contents">
<h1>Channel</h1><hr/><a name="_details"></a><h2> </h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;cio/channel.h&gt;</span> 
</pre></div> <table border="0" cellpadding="0" cellspacing="0">
<tr><td colspan="2"><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__channel__op.html">cio_channel_op</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Description of a multiplexed channel operation.  <a href="structcio__channel__op.html#_details">More...</a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structcio__channel.html">cio_channel</a></td></tr>
<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Opaque channel object.  <a href="structcio__channel.html#_details">More...</a><br/></td></tr>
<tr><td colspan="2"><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#gadb89957a62b87cb437b531933e7d7cc5">cio_channel_op_type</a> { <a class="el" href="group__channel.html#ggadb89957a62b87cb437b531933e7d7cc5a4e3fcdbef9da1e1dc3a14fc2e18a3645">CIO_CHANNEL_READ</a>, 
<a class="el" href="group__channel.html#ggadb89957a62b87cb437b531933e7d7cc5a62757883f8d83a6256fdc8492844a348">CIO_CHANNEL_WRITE</a>
 }</td></tr>
<tr><td colspan="2"><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#gab86e2432b8ff58533538275c6aa9e22b">cio_channel_create</a> (size_t item_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#ga0fdc00e800779ae1417b973624e70e20">cio_channel_ref</a> (struct <a class="el" href="structcio__channel.html">cio_channel</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#gae09d8029fe4620851feb1ed4c5a26daa">cio_channel_unref</a> (struct <a class="el" href="structcio__channel.html">cio_channel</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#ga62a996070008d9be511288a67ae31f24">cio_channel_close</a> (struct <a class="el" href="structcio__channel.html">cio_channel</a> *)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#ga763a26c21fa46d32d259bd85076a3edf">cio_channel_read</a> (struct <a class="el" href="structcio__channel.html">cio_channel</a> *, void *item, size_t item_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#ga3136a39b9a9111984f15e87b6a334c18">cio_channel_write</a> (struct <a class="el" href="structcio__channel.html">cio_channel</a> *, const void *item, size_t item_size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__channel.html#ga8e444e002295d513e10a232ed7839227">cio_channel_select</a> (const struct <a class="el" href="structcio__channel__op.html">cio_channel_op</a> *ops, int nops, int *selection)</td></tr>
</table>
<hr/><h2>Enumeration Type Documentation</h2>
<a class="anchor" id="gadb89957a62b87cb437b531933e7d7cc5"></a><!-- doxytag: member="channel.h::cio_channel_op_type" ref="gadb89957a62b87cb437b531933e7d7cc5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__channel.html#gadb89957a62b87cb437b531933e7d7cc5">cio_channel_op_type</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggadb89957a62b87cb437b531933e7d7cc5a4e3fcdbef9da1e1dc3a14fc2e18a3645"></a><!-- doxytag: member="CIO_CHANNEL_READ" ref="ggadb89957a62b87cb437b531933e7d7cc5a4e3fcdbef9da1e1dc3a14fc2e18a3645" args="" -->CIO_CHANNEL_READ</em>&nbsp;</td><td>
<p>Indicates a read operation. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggadb89957a62b87cb437b531933e7d7cc5a62757883f8d83a6256fdc8492844a348"></a><!-- doxytag: member="CIO_CHANNEL_WRITE" ref="ggadb89957a62b87cb437b531933e7d7cc5a62757883f8d83a6256fdc8492844a348" args="" -->CIO_CHANNEL_WRITE</em>&nbsp;</td><td>
<p>Indicates a write operation. </p>
</td></tr>
</table>
</dd>
</dl>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="ga62a996070008d9be511288a67ae31f24"></a><!-- doxytag: member="channel.h::cio_channel_close" ref="ga62a996070008d9be511288a67ae31f24" args="(struct cio_channel *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cio_channel_close </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Mark the channel as closed. Writing is not possible immediately after this, and reading is not possible after all pending writes have been completed. This function may be called multiple times for a single channel. </p>

</div>
</div>
<a class="anchor" id="gab86e2432b8ff58533538275c6aa9e22b"></a><!-- doxytag: member="channel.h::cio_channel_create" ref="gab86e2432b8ff58533538275c6aa9e22b" args="(size_t item_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcio__channel.html">cio_channel</a>* cio_channel_create </td>
          <td>(</td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>item_size</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Create a new channel with a reference count of 1.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>item_size</em>&nbsp;</td><td>size of items passed through this channel (may be 0)</td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>a channel or <code>NULL</code> on error </dd></dl>

</div>
</div>
<a class="anchor" id="ga763a26c21fa46d32d259bd85076a3edf"></a><!-- doxytag: member="channel.h::cio_channel_read" ref="ga763a26c21fa46d32d259bd85076a3edf" args="(struct cio_channel *, void *item, size_t item_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cio_channel_read </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>item_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Read an item from the channel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>item</em>&nbsp;</td><td>buffer for the item or <code>NULL</code> if <code>item_size</code> is 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>item_size</em>&nbsp;</td><td>must match the channel's item size</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if the channel is closed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>on error with <code>errno</code> set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga0fdc00e800779ae1417b973624e70e20"></a><!-- doxytag: member="channel.h::cio_channel_ref" ref="ga0fdc00e800779ae1417b973624e70e20" args="(struct cio_channel *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structcio__channel.html">cio_channel</a>* cio_channel_ref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Increase the reference count.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd><code>c</code> </dd></dl>

</div>
</div>
<a class="anchor" id="ga8e444e002295d513e10a232ed7839227"></a><!-- doxytag: member="channel.h::cio_channel_select" ref="ga8e444e002295d513e10a232ed7839227" args="(const struct cio_channel_op *ops, int nops, int *selection)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cio_channel_select </td>
          <td>(</td>
          <td class="paramtype">const struct <a class="el" href="structcio__channel__op.html">cio_channel_op</a> *&nbsp;</td>
          <td class="paramname"> <em>ops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>nops</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>selection</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Perform one of multiple read and/or write operations.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ops</em>&nbsp;</td><td>vector of operations </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>nops</em>&nbsp;</td><td>number of operations </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>selection</em>&nbsp;</td><td>storage for the index of the selected operation (set also on error; -1 on general error)</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>if the selected operation performed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if the selected channel is closed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>on error with <code>errno</code> set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae09d8029fe4620851feb1ed4c5a26daa"></a><!-- doxytag: member="channel.h::cio_channel_unref" ref="gae09d8029fe4620851feb1ed4c5a26daa" args="(struct cio_channel *)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void cio_channel_unref </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em></td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Decrease the reference count. The channel will be destroyed when there are no more references. </p>

</div>
</div>
<a class="anchor" id="ga3136a39b9a9111984f15e87b6a334c18"></a><!-- doxytag: member="channel.h::cio_channel_write" ref="ga3136a39b9a9111984f15e87b6a334c18" args="(struct cio_channel *, const void *item, size_t item_size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int cio_channel_write </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structcio__channel.html">cio_channel</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *&nbsp;</td>
          <td class="paramname"> <em>item</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&nbsp;</td>
          <td class="paramname"> <em>item_size</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Write an item to the channel.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td></td></tr>
    <tr><td valign="top"></td><td valign="top"><em>item</em>&nbsp;</td><td>the item or <code>NULL</code> if <code>item_size</code> is 0 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>item_size</em>&nbsp;</td><td>must match the channel's item size</td></tr>
  </table>
  </dd>
</dl>
<dl><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>1</em>&nbsp;</td><td>on success </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>0</em>&nbsp;</td><td>if the channel is closed </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>-1</em>&nbsp;</td><td>on error with <code>errno</code> set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div>
  </body>
</html>
